% --------------------------------------------------------------------



\section{Introduction}
\begin{sloppypar}
    In recent years the mobile app has revolutionized our daily lives. 
    These services have infiltrated social life, shopping and almost 
    every aspect of our existence. The services and their apps compete of 
    our time and markets are reinventing themselves constantly. The rapid 
    expansion and at times even faster decline of these web services 
    need a matching architecture to meet these very specific needs. 
\end{sloppypar}
\begin{sloppypar}
    There are many web services already in use which have been designed and 
    implemented before the onslaugh of microservices. Some of these services 
    need to evolve to be of use in the future. In many cases the monolith 
    services have already started to use certain aspects from the microservice 
    world, such as access tokens and REST API:s. The pressure from new 
    competitors adopting new technologies right from the start and the fact 
    that the industry and its developer base are extremely young dictates that 
    the old and established services have to address the situation someway or 
    the other. Monoliths have served us well but the time has come to evolve 
    with the customer needs.
\end{sloppypar}
\begin{sloppypar}
    Stackoverflow annual survey \citep{stackoverflowsurvey2019} conducted on 
    developers finds that half of the respondents identified as full-stack or 
    backend developers. The professional developers had very little experience 
    and about 40\% of them had less than five years of professional experience. 
\end{sloppypar}
\begin{sloppypar}
    The new developers entering the work force have very different mindset than 
    the older more seasoned professionals. Thus, it is very clear that the ways 
    of working and paradigms to be used are in constant change. The old and 
    established have to embrace the change and refactor their architecture 
    before it is too late. Microservices are not the proper choice for all needs
     \citep{newman2019} but in many cases there simply is no other valid choice.
    This change needs to happen in an orderly and safe way and the security 
    aspects need to be addressed. 
\end{sloppypar}
\begin{sloppypar}
    Microservice Architecture (MSA) differs in many ways from 
    the more tradition Monolith Architecture (MA). This shift entails very 
    specific security issues.
\end{sloppypar}
\begin{sloppypar}
    In this thesis the MSA and security literature is evaluated and the main 
    differences between MA and MSA on back end security aspects are found.
\end{sloppypar}
\begin{sloppypar}
    Chapter 2. presents the definitions used in this thesis. 
    Chapter 3. discusses the Confidentiality aspect of a switch from MA to MSA. 
    In chapter 4. Integrity of the information is discussed in the context of 
    MA and MSA. 
    Chapter 5. presents Availability when changing from MA to MSA.
    In Chapter 6. other relevat security aspects are presented.
    Chapter 7. contains the conclusions and presents further research topics.
\end{sloppypar}

\section{Definitions}
\begin{sloppypar}
    This thesis uses the following definitions.
\end{sloppypar}



\subsection{Microservice}
\begin{sloppypar}
    Microservice architecture is in essence an extension of the service oriented 
    architecture (SOA). It's guiding principles are stated in the SOA manifesto 
    \citep{soamanifesto} and one is to prioritize:
    \begin{quotation}
        \noindent \it
        \begin{itemize}
            \item Business value over technical strategy
            \item Strategic goals over project-specific benefits 
            \item Intrinsic interoperability over custom integration 
            \item Shared services over specific-purpose implementations 
            \item Flexibility over optimization 
            \item Evolutionary refinement over pursuit of initial perfection
        \end{itemize}
    \end{quotation}
\end{sloppypar}
\begin{sloppypar}
    A microservice is a service that: is independently deployable,
    is modeled around business domain,
    that owns the data that they need to operate,
    that communicates via network,
    is technology agnostic,
    that encapsulates data storage and retrieval and 
    that has stable interface \citep{newman2019}.
\end{sloppypar}

\subsection{Security}
\begin{sloppypar}
    Security can be defined in multiple ways but in this thesis security 
    and more specifically information security is defined as consisting of 
    Confidentiality, Integrity, and Availability (CIA) as is stated in the 
    pocket book on ISO/IEC 27001 -standard for information security \citep{isoiec27001}.
\end{sloppypar}
\begin{sloppypar}
    The ISO/IEC 27001 standard defines confidentiality as such that information 
    or property is available to the authorized user only. The authorized users 
    can consist of persons, processes or entities to whom the information or 
    property can be disclosed. Integrity means that the data or property is 
    safeguarded for accuracy and completeness. Availability in this web service
    context is defined as such that the property or information is available 
    when it is needed.
\end{sloppypar}

\section{The Switch of Architectures}
\begin{sloppypar}
    To change the architecture from MA to MSA is a gradual process. The MA is or at least should be  
    split to modules with separation of concerns \citep{secchalmsa}. 
\end{sloppypar}

\section{Confidentiality}
\begin{sloppypar}
    Confidentiality in a web service is usually critical security feature. 
    There are specific services which do not nead information confidentiality 
    regarding some of the data such as public weather services and other similar data.
    Some of the information is still regarded sensitive and must be kept confidential. 
    These data can consists of personal, user, logs or other similar content.
    Users should not be able to use or view content not authorized to him/her. 
    A user has to authenticate him/her self and authorization is acquired to access to information or property.
    In an MA access control can be implemented using sessions. 
    A user authenticates using appropriate channels and a session with a session key is created. 
    The session can have an expiration time and the messages originating from 
    the user interface (UI) carry this key. Sessions and session keys can be used 
    in a distributed system which MSA is but the implementation is more difficult \citep{authinmsa}.
\end{sloppypar}


\subsection{Authentication}
\begin{sloppypar}
    In these cases where the user has to be authenticated the web service needs 
    a way to do this securily. Usually authentication is done using a tuple 
    containing user credentials i.e. a username and a password for the user. The
    user is authenticated and a key or token is transmitted to the user via the 
    network. This communication should in both MA and MSA be encrypted in a way 
    that none of the actors in the transfer path can intercept the message and 
    be able to use the credentials.
\end{sloppypar}
\begin{sloppypar}
    The credential counterparts i.e. shared secret by the server and the user 
    have to be available for the web service for verification. When using MSA 
    the service should own it's own data. When ever such information is 
    available it is a target for thieves and hackers. The services in MSA are 
    to be individually deployable and the service scalable. Authentication 
    service implementation has to take this into account. The service has to 
    adhere to practices that minimize the risks of data breaches. 
\end{sloppypar}
    
\subsubsection{Attacks}
\begin{sloppypar}
    Authentication can be attacked by a multitude of methods.     
    \begin{itemize}
        \item Cracking
        \item Impersonation attacks
        \item Hacking the system
        \item Malware
        \item Social engineering
        \item Cracking the encryption on the communication channel exchanging credentials and keys or tokens.
    \end{itemize}
\end{sloppypar}

\begin{sloppypar}
    From 2013 onwards malware and data breaches performed by hackers have 
    increased and the scale of the damage is massive. The user data containing 
    also the user passwords or hash thereof is valuable commodity which can be 
    traded in the black markets. The damage of the dataloss can be susbtantial. 
    The estimated value from the Yahoo data breach is over \$440 billion. The 
    attacks seem to have been targeted to entities with valuable data and 
    also to such targets that are lacking secure infrastructure. The least likely 
    target to be hacked where non profit organisations and the most likely were 
    medical related organizations \citep{breach}.
\end{sloppypar}
\begin{sloppypar}
    The hacked account credentials have to some extent been available for download 
    from the web. \citet{pwned} created a service where everyone can verify 
    whether any of their accounts are amogst the ones added to the service. 
    The service named as "';-- have i been pwned ?" allows users to enter their 
    username or password to the site and see a result.
\end{sloppypar}

\subsection{Authorization}
\begin{sloppypar}
    Authorization 
\end{sloppypar}



\subsection{Component Communication}
\begin{sloppypar}
    In an MA service components can communicate using events, 
    procedure calls or other methods available within a single server machine. 
    Usually all this communication stays within a single computer and thus does not compromise confidentiality.
\end{sloppypar}
\begin{sloppypar}
    In MSA single services communicate via a network typically using a HTTP or HTTPS (). 
    can use internet
    Content must be encrypted.
    AccessTokens
    SessionKeys
\end{sloppypar}

\subsection{Effects on Confidentiality}


\subsection{Example case}

\section{Integrity}
\begin{sloppypar}
    Information integrity in an MA web service is usually left to a single database 
    and sound architectural choices (REALLY? SOURCE).
    Transactions can be used when updating database constents to make sure that
    atomicity, consistency, isolation, and durability (ACID) \citep{acid} is followed.
    When using MSA according to the definition each of the micro services should contain 
    or have access to it's own data i.e. database. This leads to extreme difficulties in information integrity.
    TODO
\end{sloppypar}


\subsection{Introduction}
\subsection{Effects on Integrity}
\subsection{Example case}



\section{Availability}
\begin{sloppypar}
    Availability in this web service context is defined as such that the property or information 
    is available when it is needed.

    
    
\end{sloppypar}

\subsection{Possible Attacks}
\begin{sloppypar}
    D-o-S 
\end{sloppypar}



\subsection{Comparison}
\begin{sloppypar}
    
\end{sloppypar}


\subsection{Introduction}
\begin{sloppypar}

\end{sloppypar}

\subsection{Effects on Availability}
\begin{sloppypar}

\end{sloppypar}

\subsection{Example case}
\begin{sloppypar}

\end{sloppypar}




\section{Other security matters}
\subsection{Platforms}
\begin{sloppypar}

\end{sloppypar}

Docker Swarm
Kubernetes (K8s)
Azure

sandbox
virtualization 

\subsection{Software Development}
\subsection{Deployment}
\begin{sloppypar}
    Developing software using the MA the structure the whole application or service 
    is usually deployed as a whole and the program code can be compiled, tested 
    and used as a single unit or multiple modules. In contrast to this a service 
    implemented by using a MSA can be deployed in single microservice units and 
    thus a single service can be worked upon individually and deployed once ready.
\end{sloppypar}

\subsection{Service discovery}
\begin{sloppypar}
    The MSA can have a service discovery service into which all available services 
    can register them selves. This service has an API to which
\end{sloppypar}



% --------------------------------------------------------------------
% --------------------------------------------------------------------

\section{Conclusion}

% Loppuluku päättää työn. Luvun nimi on tyypillisesti ``yhteenveto'' tai
% ``johtopäätöksiä''. Valitse se otsikko, joka tuntuu sopivammalta työsi
% luonteeseen. Joka tapauksessa loppuluku sisältää niin työn yhteenvedon
% kuin johtopäätöksiä työn tulosten perusteella. Pääajatus on antaa
% lukijalle selvä kuva siitä, miten johdannossa asetettuihin
% tavoitteisiin työssä vastattiin.

% Käsittele loppupuvussa seuraavia asioita (jotakuinkin tässä järjestyksessä):
% %
% \begin{itemize}
%   \item Muistutus työn tavoitteista (sidoksisuus johdantoon)
%   \item Päätulokset kootaan yhteen, pohditaan niiden merkitystä
%   \item Suositukset konkreettisiksi toimenpiteiksi (``Mitä sitten?'' 
% Nyt kun käytössä on tämän työn myötä tullut tieto, 
% mitä se nyt tarkoittaa tälle asialle/alalle.)
%   \item Tulosten soveltuvuus, käyttöön liittyvät rajoitukset
%   \item Jatkotutkimustarve 
% (``Tulevaisuudessa olisi mielenkiintoista selvittää...'' tms.)
%   \item Työn onnistumisen arviointi 
% (Huom! Älä arvioi omaa kirjoitusprosessiasi vaan tekemääsi tutkimusta)
% \end{itemize}

% --------------------------------------------------------------------

