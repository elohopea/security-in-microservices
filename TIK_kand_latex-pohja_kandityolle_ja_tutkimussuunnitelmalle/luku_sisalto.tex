
% --------------------------------------------------------------------
\section{Introduction}
\begin{sloppypar}
    In recent years the mobile applications have revolutionized our daily lives. 
    These services have infiltrated social life, shopping and almost every 
    aspect of our existence. The services and their apps compete of our time and
    markets are reinventing themselves constantly. The rapid expansion and at 
    times even faster decline of these web services need a matching architecture 
    to meet these very specific needs. 
\end{sloppypar}
\begin{sloppypar}
    There are many web services already in use which have been designed and 
    implemented before the onslaugh of microservices. Some of these services 
    need to evolve to be of use in the future. In many cases the monolith 
    services have already started to use certain aspects from the microservice 
    world, such as access tokens and REST API:s. The pressure from new 
    competitors adopting new technologies right from the start and the fact 
    that the industry and its developer base are extremely young dictates that 
    the old and established services have to address the situation someway or 
    the other. Monoliths have served us well but the time has come to evolve 
    with the customer needs.
\end{sloppypar}
\begin{sloppypar}
    When new development is carried out by a startup the initial architecture 
    might still be a monolith one. \citet{newman2019} states that due to limited 
    resources a monolith might be a better fit to these companies trying to 
    navigate to the actual product they are to offer. In the case of success 
    the need to rapidly scale the offering emerges. \citet{newman2019} refers 
    to these companies as "scale-ups". \citet{newman2019} also states that it 
    is much easier to refactor an existing service than to create a new one and
    thus the need to split monoliths to microservices is and probably will be 
    relevant to the near future.
\end{sloppypar}
\begin{sloppypar}
    \citet{10.1007/978-3-319-74433-9_3} finds that as the codebase becomes large 
    the MA leads to slower development. This is due to the possible complexity
    inherint in the entwined monolith. The number of placess to refactor is much 
    larger than in a small microservice. Microservice should do one thing and as 
    such it should be more understandable.
\end{sloppypar} 
\begin{sloppypar}
    Stackoverflow annual survey \citep{sosurvey2019} conducted on 
    developers finds that half of the respondents identified as full-stack or 
    backend developers. The professional developers had very little experience 
    and about 40\% of them had less than five years of professional experience. 
\end{sloppypar}
\begin{sloppypar}
    The new developers entering the work force have very different mindset than 
    the older more seasoned professionals. Thus, it is very clear that the ways 
    of working and paradigms to be used are in constant change. The old and 
    established have to embrace the change and refactor their architecture 
    before it is too late. Microservices are not the proper choice for all needs
     \citep{newman2019} but in many cases there simply is no other valid choice.
    This change needs to happen in an orderly and safe way and the security 
    aspects need to be addressed. 
\end{sloppypar}
\begin{sloppypar}
    Microservice Architecture (MSA) differs in many ways from 
    the more tradition Monolith Architecture (MA). This shift entails very 
    specific security issues.
\end{sloppypar}
\begin{sloppypar}
    In this thesis the MSA and security literature is evaluated and the main 
    differences between MA and MSA on security aspects are found.
\end{sloppypar}
\begin{sloppypar}
    The first chapter discusses the \dots
    The last chapter in the thesis contains the conclusions and presents further 
    research topics.
\end{sloppypar}



% --------------------------------------------------------------------


\section{Monolith}
\begin{figure}[h]
    \includegraphics[scale=0.75]{{monolith_architecture.png}}
    \centering
    \caption{Traditional Monolithic Architecture \citep{10.1007/978-3-319-74433-9_3}}
\end{figure}

\begin{figure}[h]
    \includegraphics[scale=0.75]{{MSA.png}}
    \centering
    \caption{Microservice Architecture \citep{10.1007/978-3-319-74433-9_3}}
\end{figure}

\begin{figure}[h]
    \includegraphics[scale=0.75]{{MSA_API_GATEWAY.png}}
    \centering
    \caption{Microservice Architecture With API Gateway}
\end{figure}


\section{Changing the architecture}
\begin{sloppypar}
    To change the architecture from MA to MSA should in general be a gradual process. The 
    MA is or at least should be  split to modules with separation of concerns 
    \citep{secchalmsa}. The actual splitting of the monolith can be carried out
     in various ways. One of whic is DDD (SOURCE FOR THIS).
\end{sloppypar}
\begin{sloppypar}
    The MSA differs from a MA in fundamental ways. According to \citet{fowlerlewisms} 
    one of which is the communication between its components. In a monolith 
    application the processes can send function calls or method invocations 
    amongst them selves. In MSA the messaging is based on sending messages or 
    HTTP requests.
\end{sloppypar}
\begin{sloppypar}
    Function calls entail a stackframe creation in the call stack, execution of 
    the function code and finally popping the stackframe and returning the result. 
    The actual overhead depends on the language and systems used to run the 
    application (SOURCE). Compilers can optimize the code further and inline 
    the function calls to eliminate the stackframe creation and following 
    procedures to be carried out.
\end{sloppypar}
\begin{sloppypar}
    Communication using the network is extremely slow. In a paper \citet{webdelays} 
    studied the response times of web sites offered to the public. The websites 
    response times where measured in seconds.
\end{sloppypar}
\begin{sloppypar}
    The requests sent to other microservices throught the network are extremely 
    slow when compared to operation within one computer as the function calls 
    would be. Therefore, the communication patterns should be changed to take 
    into account the change in communication path.
\end{sloppypar}
\begin{sloppypar}
    If the architecture is changed in such a way that the previous communication 
    model amongs the components is preserved, there would be an excessive amount 
    of communication and the resulting system is not as performant as it could 
    be \citep{fowlerlewisms}.
\end{sloppypar}

\section{Security}
\begin{sloppypar}
    \citet{secconmsa} implemented a test system mimicking the Deutsche Bahn 
    seat reservation system using MSA. The technologies used in the study were: 
    Amazon Web services as the deployment platform, Elastic Compute Clouds 
    running on Kubernetes nodes, and Docker for containers in which the actual 
    services were run. They found out that the cloud-based infrastructure when 
    used in MSA resulted in a more complex solution than in MA. The complexity 
    in modern software systems is inherent. Implementing security is very 
    difficult and resource intensive. The rewards from a good security are 
    invisible. When microservices are implemented or even planned the security 
    should be taken into account as early as possible. Implementing security 
    later on the project or as an after thought is can be more expensive and 
    very difficult.
\end{sloppypar}
\begin{sloppypar}
    The added layers all have to be configured correctly and an error in one 
    could potentially compromise the whole system. 
\end{sloppypar}

\section{Authentication}
\begin{sloppypar}
    In these cases where the user has to be authenticated the web service needs 
    a way to do this securily. Usually authentication is done using a tuple 
    containing user credentials i.e. a username and a password for the user. The
    user is authenticated and a key or token is transmitted to the user via the 
    network. This communication should in both MA and MSA be encrypted in a way 
    that none of the actors in the transfer path can intercept the message and 
    be able to use the credentials.
\end{sloppypar}
\begin{sloppypar}
    The credential counterparts i.e. shared secret by the server and the user 
    have to be available for the web service for verification. When using MSA 
    the service should own it's own data. When ever such information is 
    available it is a target for thieves and hackers. The services in MSA are 
    to be individually deployable and the service scalable. Authentication 
    service implementation has to take this into account. The service has to 
    adhere to practices that minimize the risks of data breaches. 
\end{sloppypar}
\begin{sloppypar}
    session, 
    JSON Web Token (JWT) https://tools.ietf.org/html/rfc7519, 
    token (JWT, OAuth 2.0), 
    (API gateway, IdP) vs distribution 
\end{sloppypar}
\begin{sloppypar}
    Identity and Access Management (IAM),
    Identity federation, 
    Azure Active Directory,
    Active Directory Federation Services (ADFS),
    Google, Facebook, Twitter, LinkedIn etc.,
    Single-Sign-On (SSO),
    Security Assertion Markup Language (SAML),
    SAML identity provider,
    OpenId provider,
    OAuth,
    OpenId Connect (OIDC),
    Identity Management: Identification, Authentication, Authorization.
    \dots
\end{sloppypar}

\subsection{Java Script Object Notation Web Token (JWT)}
\begin{sloppypar}
    JWT is a format to represent claims. It is base64 encoded point separated 
    strings which concatenated can easily be carried in the HTTP request or 
    response. The contents is key value pairs and the token may or may not be 
    signed and encrypted \citep{RFC7519}. The token may contain expiration time. 
    If the token is used to validate requests without a server side implementation 
    that can revoke a token it will be valid until this time.
\end{sloppypar}
\begin{sloppypar}
    The JWT token is issued by an authority trusted by the service or services. 
    The issuer has to sign the token for there to exist any real authoritative 
    weight on it.
\end{sloppypar}
\begin{sloppypar}
    The signing of JWT can be carried out in various ways. These are presented 
    in the \citet{RFC7515}. The signature is computated using the algorithm and 
    keys or certificates specified in the header values. When the token is 
    signed using PKI private key it can be verified by all parties in 
    possession of the public key. 
\end{sloppypar}
\begin{sloppypar}
    The choices for signing algorithm for signing the JWT algorithm contain 
    "none" as one of the choices. This was found to be troublesome by 
    \citet{nonejwt}. He found that many libraries did not operate in desired 
    way. The receiving party could be fooled to validate a mutated token without
    any signature with the "none" as it's algorithm. In addition to this 
    vulnerability \citet{nonejwt} found that the verification suffered from 
    another fatal flaw. When a token was created by using a symmetric algorithm 
    the servers could be fooled to believe that a token signed by just the 
    public key and not the secret HMAC -key was a valid one.
\end{sloppypar}


\subsection{Attacks}
\begin{sloppypar}
    Authentication can be attacked by a multitude of methods.     
    \begin{itemize}
        \item Cracking
        \item Impersonation attacks
        \item Hacking the system
        \item Malware
        \item Social engineering
        \item Cracking the encryption on the communication channel exchanging credentials and keys or tokens.
    \end{itemize}
\end{sloppypar}
\begin{sloppypar}
    From 2013 onwards malware and data breaches performed by hackers have 
    increased and the scale of the damage is massive. The user data containing 
    also the user passwords or hash thereof is valuable commodity which can be 
    traded in the black markets. The damage of the dataloss can be susbtantial. 
    The estimated value from the Yahoo data breach is over \$440 billion. The 
    attacks seem to have been targeted to entities with valuable data and 
    also to such targets that are lacking secure infrastructure. The least likely 
    target to be hacked where non profit organisations and the most likely were 
    medical related organizations \citep{breach}.
\end{sloppypar}
\begin{sloppypar}
    The hacked account credentials have to some extent been available for download 
    from the web. \citet{pwned} created a service where everyone can verify 
    whether any of their accounts are amogst the ones added to the service. 
    The service named as "';-- have i been pwned ?" allows users to enter their 
    username or password to the site and see a result.
\end{sloppypar}

\subsection{Authentication in Monolith}
\begin{sloppypar}
    Discussion on various ways to execute authentication in MA. 
\end{sloppypar}

\subsubsection{Authentication in Microservice Architecture}
\begin{sloppypar}
\end{sloppypar}


% --------------------------------------------------------------------


\section{Authorization}
\begin{sloppypar}
    Authorization of the user rights can be implemented in various ways. One of 
    which is an authorization service which can contain the access control 
    matrix. Services being accessed verify from the authorization service that
    a particular user or the role that the user has can access the requested 
    service or functionality.
\end{sloppypar}
\begin{sloppypar}
    In a MA the access rights to a functionality can be implemented using
    annotations within the source code. This can be effective since the 
    verification can be done in memory or atleast without network communication. 
    If a session is used it can contain the information needed to verify access 
    rights.
\end{sloppypar}
\begin{sloppypar}
    In contrast to the MA in the MSA the access control matrix or matrices can't 
    be as easily accessed. In order to verify that a specific right exists the 
    service would have communicate with the authorization service every time a user
    tries to access a functionality with access restrictions. This could 
    potentially lead to an extremely lively communication from all the services 
    a formation of a bottleneck to the service.
\end{sloppypar}
\begin{sloppypar}
    https://techbeacon.com/security/microservices-apps-do-identity-access-management-without-overhead
\end{sloppypar}

\subsection{Authorization in Monolith Architecture}
\begin{sloppypar}
    In MA it is possible to implement features in such ways that a session can 
    carry user information. This information can consist of granted roles and 
    rights for the user. This session can be queried when e.g. access control 
    is needed to execute an action or operation.
\end{sloppypar}

\subsection{Authorization in Microservice Architecture}


% --------------------------------------------------------------------


\section{Session}
\subsection{Session in Monolith}
\subsection{Session in Microservice Architecture}


% --------------------------------------------------------------------


\section{Cloud}
\subsection{Monolith}
\subsection{Microservices Architecture}


% --------------------------------------------------------------------

\section{Monitoring}
\subsection{Monolith}
\subsection{Microservices Architecture}


% --------------------------------------------------------------------

\section{Logging}
\subsection{Monolith}
\subsection{Microservices Architecture}


% --------------------------------------------------------------------

\section{Fault Tolerance}
\subsection{Monolith}
\subsection{Microservices Architecture}


% --------------------------------------------------------------------

\section{Communication}
\begin{sloppypar}
    As already discussed in an MA the service components can communicate using 
    events, procedure calls or other methods available within a single server 
    machine. Usually all this communication stays within a single computer and 
    thus does not necessarily compromise confidentiality.
\end{sloppypar}
\begin{sloppypar}
    Microservices can not trust any of the \citep{otterstad}
\end{sloppypar}


\begin{sloppypar}
    In MSA single services communicate via a network.
    TODO

    Next messaging systems list is from \citep{secchalmsa}:
lightweight
-
    REST API,
    Sync RPC,
    GraphQl
    -
    Async REST,
    gRPC
    - 
    Apache Kafka,
    ZeroMQ
    -
    Java Message Service:
    1 ActiveMQ,
    2 JBOSS messaging,
    3 Glassfish
    -
    AMQP:
    1 RabbitMQ,
    2 Qpid,
    3 HornetQ
    -
    MuleESB,
    Apache ServiceMix,
    JBossESB
-
heavyweight
    WebSocket
\end{sloppypar}

\subsection{Representational State Transfer (REST)}
\begin{sloppypar}
    \citet{restroy} presented REST in 2000 and it has become very successfull. 
    The architectural style is was derived using various constraints one of 
    which is the demand of stateless communication. The communication i.e. 
    the request must contain all information for the server to fullfil the request. 
    All session state is stored in the client of which the server has no prior 
    knowledge before a request.
\end{sloppypar}
\begin{sloppypar}
    In her doctoral thesis \citet{secchalmsa} critiques the REST paradigm from 
    the security perspective. She states that the design of the architecture 
    does not meet the security requirements for web applications. The 
    statelessness of REST does not allow for any server side sessions and thus 
    making e.g. token repudiation impossible due to not being able to verify 
    tokens other than the correct issuer by signature and the validity. As such 
    tokens are more compatible with REST but there still has to be the private 
    keys in the server for signature verification.
\end{sloppypar}

\subsection{Event-Driven Communication}
\begin{sloppypar}
\end{sloppypar}

\subsection{Coping With Failure in Communication}
\begin{sloppypar}
    \citet{DBLP:journals/corr/MontesiW16} present widely used design pattern for MSA.
    The Circuit Breaker can be used to mitigate the very likely case that a 
    microservice operates slower than the other services calling it and 
    runs out ot resources to fulfill the requests in time. The circuit breaker
    is either implemented in the microservices or as a proxy between the client 
    and the microservice. When the microservice does not service requests as 
    intended the circuit breaker is to trip and send a failure message to the 
    clients immediately when requests are received thus allowing the 
    microservice time to service the prior responses.
\end{sloppypar}
\begin{sloppypar}
    The circuit breakers can prevent an application becoming completely 
    unresponsive and crashing when a denial of service attack is carried out on 
    the service.
\end{sloppypar}


% --------------------------------------------------------------------


\section{Defence in depth}
\begin{sloppypar}
    \citet{defdepau} propose a solution for secure communication in MSA even in multicloud solutions.
    perimeter defence -> neglect security of individual microservices.
    



\end{sloppypar}
\begin{sloppypar}
\end{sloppypar}
\begin{sloppypar}
\end{sloppypar}

% \section{Random rambling}
% \begin{sloppypar}
%     This paper could be about authorization and the switch from MA to MSA.
%     The authorization can be designed and implemented in so many ways that
%     the paper should probably be narrowed down even further.
% \end{sloppypar}

% \begin{sloppypar}
%     Sessions can be used in MSA when the architecture has an API Gateway. The 
%     session is stored in the Gateway and a session key (?) is carried in the 
%     requests made by the client application. The API Gateway then verifies the
%     request and can grant access to specific service. Without the Gateway the
%     session would have to be either centrally maintained at a session service 
%     or be handeld by the client and passed along in the requests.
% \end{sloppypar}
% \begin{sloppypar}
%     Client handled session is easy to tamper with and has risks involved. The 
%     service would either have to trust the client offered session or verify a 
%     signature. In both of these cases the client application would have to be 
%     aware of the service and would be able to communicate with it directly. 
%     This would bring considerable overhead on all the services and a security 
%     risk.
% \end{sloppypar}

\section{Comments}
\begin{sloppypar}
    authentication, 
    credential
\end{sloppypar}
\begin{sloppypar}
    authorization, 
    access control, 
    policy decision point (PDP), 
    policy enforcement point (PEP), 
    A Framework for Policy-based Admission Control https://tools.ietf.org/html/rfc2753
\end{sloppypar}




% --------------------------------------------------------------------


% \section{Definitions}
% \begin{sloppypar}
%     This thesis uses the following definitions.
% \end{sloppypar}

% \subsection{Microservice}
% \begin{sloppypar}
%     MSA can be viewed as an extension of the service oriented 
%     architecture (SOA)\citep{newman2019,fowlerlewisms}. It's guiding principles are stated in the SOA manifesto 
%     \citep{soamanifesto} and one is to prioritize:
%     \begin{quotation}
%         \noindent \it
%         \begin{itemize}
%             \item Business value over technical strategy
%             \item Strategic goals over project-specific benefits 
%             \item Intrinsic interoperability over custom integration 
%             \item Shared services over specific-purpose implementations 
%             \item Flexibility over optimization 
%             \item Evolutionary refinement over pursuit of initial perfection
%         \end{itemize}
%     \end{quotation}
% \end{sloppypar}
% \begin{sloppypar}
%     A microservice is a service that: is independently deployable,
%     is modeled around business domain,
%     that owns the data that they need to operate,
%     that communicates via network,
%     is technology agnostic,
%     that encapsulates data storage and retrieval and 
%     that has stable interface \citep{newman2019}.
% \end{sloppypar}

% \subsection{Security}
% \begin{sloppypar}
%     Security can be defined in multiple ways but in this thesis security 
%     and more specifically information security is defined as consisting of 
%     Confidentiality, Integrity, and Availability (CIA) as is stated in the 
%     pocket book on ISO/IEC 27001 -standard for information security \citep{isoiec27001}.
% \end{sloppypar}
% \begin{sloppypar}
%     The ISO/IEC 27001 standard defines confidentiality as such that information 
%     or property is available to the authorized user only. The authorized users 
%     can consist of persons, processes or entities to whom the information or 
%     property can be disclosed. Integrity means that the data or property is 
%     safeguarded for accuracy and completeness. Availability in this web service
%     context is defined as such that the property or information is available 
%     when it is needed.
% \end{sloppypar}


% --------------------------------------------------------------------





% --------------------------------------------------------------------


%\section{Confidentiality}
%\begin{sloppypar}
%     Confidentiality in a web service is usually critical security feature. 
%     There are specific services which do not nead information confidentiality 
%     regarding some of the data such as public weather services and other similar data.
%     Some of the information is still regarded sensitive and must be kept confidential. 
%     These data can consists of personal, user, logs or other similar content.
%     Users should not be able to use or view content not authorized to him/her. 
%     To verify this a form of access control has to be performed. Access control 
%     consists of user authentication and authorization. A user has to 
%     authenticate him/her self and authorization is acquired to access to 
%     information or property.
% \end{sloppypar}
% \begin{sloppypar}
%     In an MA access control can be implemented using sessions. 
%     A user authenticates using appropriate channels and a session with a session key is created. 
%     The session can have an expiration time and the messages originating from 
%     the user interface (UI) carry this key. Sessions and session keys can be used 
%     in a distributed system which MSA is but the implementation is more difficult \citep{authinmsa}.
% \end{sloppypar}


    




% --------------------------------------------------------------------


% \section{Integrity}
% \begin{sloppypar}
%     Information integrity in an MA web service is usually left to a single database 
%     and sound architectural choices (REALLY? SOURCE).
%     Transactions can be used when updating database constents to make sure that
%     atomicity, consistency, isolation, and durability (ACID) \citep{acid} is followed.
%     When using MSA according to the definition each of the micro services should contain 
%     or have access to it's own data i.e. database. This leads to extreme difficulties in information integrity.
%     TODO
% \end{sloppypar}



% --------------------------------------------------------------------


% \section{Availability}
% \begin{sloppypar}
%     Availability in this web service context is defined as such that the property or information 
%     is available when it is needed.
% \end{sloppypar}

% \subsection{Possible Attacks}
% \begin{sloppypar}
%     D-o-S 
% \end{sloppypar}


% --------------------------------------------------------------------


\section{Other MSA specific security matters}
\begin{sloppypar}

\end{sloppypar}

\subsection{Platforms}
\begin{sloppypar}
    Docker Swarm
    Kubernetes (K8s)
    Azure
    
    sandbox
    virtualization 
\end{sloppypar}

\subsection{Monitoring and logging}
\begin{sloppypar}

\end{sloppypar}

\subsection{Software Development}
\begin{sloppypar}

\end{sloppypar}

\subsection{Deployment and Operation}
\begin{sloppypar}
    Developing software using the MA the structure the whole application or service 
    is usually deployed as a whole and the program code can be compiled, tested 
    and used as a single unit or multiple modules. In contrast to this a service 
    implemented by using a MSA can be deployed in single microservice units and 
    thus a single service can be worked upon individually and deployed once ready.
\end{sloppypar}
\begin{sloppypar}
    The immediacy in the deployment of the microservices entail a very specific 
    security risk. In a paper \citet{integinside} present threats from malicious 
    insiders working on the services as developers or other positions with access
    to sensitive information. In microservice development the finished 
    implementations are to be immediately released to production. There are few 
    steps in the CD pipeline prior to this but once tests pass in the test 
    environments the pipeline is supposed to publish the changes to the actual 
    production environment. The paper presents four specific threats. The first 
    one is that the knowledge of sensitive information is spread among the 
    developers more widely than in MA. The developers need access to be able to 
    produce working solutions. The second threat is that the insiders 
    monitoring and operating the running system intentionally harm the system 
    by making malicious changes. The third threat is the developers knowing the 
    configurations and their ability to make almost instat changes to them or 
    the microservices them selves. The last presented threat in the paper is the 
    non-repudiation. The system is not able to dis-allow malicious requests 
    when the developers have had access to the keys and other configurations. 
    They can effectively implement services or requests that emit malicious 
    requests or responds.
\end{sloppypar}
\begin{sloppypar}
    Malicious attempts in a MA are more easily screened by performing security
    audits and by peer reviewing the code. In a MSA the knowledge of a single 
    service and it's inner workings are shared by a more limited number of people.
    Finding the compromised actions from the interoperability of the distinct 
    microservices is a daunting task.
\end{sloppypar}
\begin{sloppypar}
    
\end{sloppypar}

\subsection{Service discovery}
\begin{sloppypar}
    Service discovery as presented in \citet{DBLP:journals/corr/MontesiW16} is a 
    design pattern in which a registry is kept on currently running microservices. 
    The microservices register them selves to the service discovery registry. 
    This registry is used by either a router to route client service calls to 
    running microservices or by the client directly.
\end{sloppypar}
\begin{sloppypar}
\end{sloppypar}
\begin{sloppypar}
    https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/
    https://www.consul.io
\end{sloppypar}


\subsection{Externalized configuration}
\begin{sloppypar}
    To allow for easy configuration change management there should exist a 
    configuration orchestration service. This service should have an API from 
    which services in their startup can load their appropriate configuration. 
    The configuration of the whole system can be easily maintained through the 
    API.
\end{sloppypar}
\begin{sloppypar}
    The contents of the configuration is highly sensitive information. It 
    consists of addressess, credentials and other information that alter 
    the behaviour of the system. Therefore, the content must be stored safely 
    and not allowed to be read or altered by unauthorized users.
\end{sloppypar}




% --------------------------------------------------------------------
% --------------------------------------------------------------------

\section{Conclusion}
\begin{sloppypar}
    This paper discussed the security aspects of changing the architecture from MA to MSA.
\end{sloppypar}
\begin{sloppypar}
    In MSA there are more things to go wrong than in MA. The deployment 
    necetitates installing: virtualization, monitoring, and a plethora of other
    tools. In some cases these tools might not even exist and they have to 
    implemented by inhouse developers and thus more costs are incurred upfront 
    and also in the upkeep of the system. In addition to being more costly own 
    development has higher risks involved.
\end{sloppypar}
\begin{sloppypar}
    MSA has higher complexity due to more tools needed and having more potentially 
    exposed attack surface. Security can be though of as being as good as it's 
    weakest link. In general a MSA deployment has multiple layers which all 
    have to be consistent and correct. One example being the configurations of 
    a system from the operating system on the server running the virtualization 
    environment. All of the layers from the server hardware to the handling of 
    errors in the actual code have to be of ample quality to mitigate a failure in 
    security.
\end{sloppypar}
\begin{sloppypar}
    Communication from inprocess to networking -> completely different ball game.
    Security in depth imperative. Zero trust.
\end{sloppypar}
\begin{sloppypar}
    Security has to be taken into account right from the beginning of the 
    project to change the architecture. The choices made in the development of 
    the web service when following a MA do not carry to the MSA as such.
\end{sloppypar}
\begin{sloppypar}
    Future research\dots
\end{sloppypar}
\begin{sloppypar}
    The research carried out\dots
\end{sloppypar}
% Loppuluku päättää työn. Luvun nimi on tyypillisesti ``yhteenveto'' tai
% ``johtopäätöksiä''. Valitse se otsikko, joka tuntuu sopivammalta työsi
% luonteeseen. Joka tapauksessa loppuluku sisältää niin työn yhteenvedon
% kuin johtopäätöksiä työn tulosten perusteella. Pääajatus on antaa
% lukijalle selvä kuva siitä, miten johdannossa asetettuihin
% tavoitteisiin työssä vastattiin.

% Käsittele loppupuvussa seuraavia asioita (jotakuinkin tässä järjestyksessä):
% %
% \begin{itemize}
%   \item Muistutus työn tavoitteista (sidoksisuus johdantoon)
%   \item Päätulokset kootaan yhteen, pohditaan niiden merkitystä
%   \item Suositukset konkreettisiksi toimenpiteiksi (``Mitä sitten?'' 
% Nyt kun käytössä on tämän työn myötä tullut tieto, 
% mitä se nyt tarkoittaa tälle asialle/alalle.)
%   \item Tulosten soveltuvuus, käyttöön liittyvät rajoitukset
%   \item Jatkotutkimustarve 
% (``Tulevaisuudessa olisi mielenkiintoista selvittää...'' tms.)
%   \item Työn onnistumisen arviointi 
% (Huom! Älä arvioi omaa kirjoitusprosessiasi vaan tekemääsi tutkimusta)
% \end{itemize}

% --------------------------------------------------------------------

